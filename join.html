<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Join MindsLinked Game</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta property="og:title" content="Join my MindsLinked game!">
  <meta property="og:description" content="Test your telepathic connection â€” tap to join!">
  <meta property="og:image" content="https://mindslinked.com/images/logo-og.png">
  <link rel="icon" type="image/png" href="images/logo-256.png">
</head>
<body style="background:#0a0014; color:white; display:flex; align-items:center; justify-content:center; min-height:100vh; margin:0; font-family:Inter,-apple-system,sans-serif; text-align:center; padding:20px;">
  <div>
    <img src="images/logo-256.png" alt="MindsLinked" style="width:96px;height:96px;border-radius:50%;margin-bottom:4px;">
    <h1 style="color:#a78bfa; margin:12px 0;">MindsLinked</h1>
    <p id="msg" style="color:#94a3b8; font-size:1.1rem;">Opening your game session...</p>
    <div id="code-display" style="font-size:2rem; letter-spacing:0.3em; color:#38bdf8; font-weight:bold; margin:20px 0;"></div>
    <a id="app-link" href="#" style="display:inline-block; background:#a78bfa; color:white; padding:14px 28px; border-radius:12px; text-decoration:none; font-weight:600; margin:10px; font-size:1rem;">Open in App</a>
    <br>
    <div style="margin-top:20px;">
      <a href="https://apps.apple.com/app/mindslinked" style="display:inline-block; background:#1a1a2e; border:1px solid #a78bfa; color:#a78bfa; padding:14px 28px; border-radius:12px; text-decoration:none; font-weight:600; margin:10px;">Download on App Store</a>
      <a href="https://play.google.com/store/apps/details?id=com.mindslinked.com" style="display:inline-block; background:#1a1a2e; border:1px solid #a78bfa; color:#a78bfa; padding:14px 28px; border-radius:12px; text-decoration:none; font-weight:600; margin:10px;">Get on Google Play</a>
    </div>
  </div>
  <script>
    const code = new URLSearchParams(window.location.search).get('code') || '';
    if (code && code.length === 4) {
      document.getElementById('code-display').textContent = code.toUpperCase();
      document.getElementById('msg').textContent = 'Someone invited you to a MindsLinked telepathy game!';
      var appLink = 'mindslinked://join/' + code.toUpperCase();
      document.getElementById('app-link').href = appLink;
      window.location.href = appLink;
      setTimeout(function() {
        document.getElementById('msg').textContent = "Couldn't open the app automatically. Use the buttons below:";
      }, 2500);
    } else {
      document.getElementById('msg').textContent = 'Invalid or missing session code.';
      document.getElementById('app-link').style.display = 'none';
      document.getElementById('code-display').style.display = 'none';
    }
  </script>
</body>
</html>
